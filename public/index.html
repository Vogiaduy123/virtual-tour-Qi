<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Virtual Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/marzipano@0.10.2/dist/marzipano.js"></script>
</head>
<body class="user">

  <!-- MINIMAP -->
  <div id="minimapWrapper" style="display: none;">
    <div id="minimapHeader">
      <span>ğŸ—ºï¸ SÆ¡ Ä‘á»“ tá»•ng quan</span>
      <button id="minimapToggle" title="Thu gá»n/Má»Ÿ rá»™ng">âˆ’</button>
    </div>
    <div id="minimapContent">
      <div id="floorTabs" class="floor-tabs"></div>
      <div id="userMinimapContainer">
        <img id="userMinimapImage" draggable="false">
        <canvas id="userMinimapCanvas"></canvas>
      </div>
    </div>
  </div>

  <!-- DANH SÃCH PHÃ’NG -->
  <div id="roomListWrapper">
    <label for="roomSelect">ğŸ“ Chá»n phÃ²ng:</label>
    <select id="roomSelect"></select>
  </div>

  <!-- AUTO TOUR CONTROL -->
  <div id="autoTourControl" class="auto-tour-control">
    <!-- Start Button (shown when tour is not active) -->
    <button id="autoTourStartBtn" class="auto-tour-btn" title="Báº¯t Ä‘áº§u tham quan tá»± Ä‘á»™ng">
      <span class="tour-icon">â–¶</span>
      <span class="tour-text">Tham quan tá»± Ä‘á»™ng</span>
    </button>
    
    <!-- Control Panel (shown during tour) -->
    <div id="tourControlPanel" class="tour-control-panel" style="display: none;">
      <div class="tour-controls">
        <button id="tourPlayPauseBtn" class="tour-control-btn" title="Táº¡m dá»«ng/Tiáº¿p tá»¥c">
          <span class="control-icon">â¸</span>
        </button>
        <button id="tourPrevBtn" class="tour-control-btn" title="Äiá»ƒm trÆ°á»›c">
          <span class="control-icon">â®</span>
        </button>
        <button id="tourNextBtn" class="tour-control-btn" title="Äiá»ƒm tiáº¿p theo">
          <span class="control-icon">â­</span>
        </button>
        <button id="tourRestartBtn" class="tour-control-btn" title="Báº¯t Ä‘áº§u láº¡i">
          <span class="control-icon">ğŸ”„</span>
        </button>
        <button id="tourStopBtn" class="tour-control-btn stop" title="Dá»«ng tour">
          <span class="control-icon">â¹</span>
        </button>
      </div>
      <div id="tourProgress" class="tour-progress">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <span id="tourStatus" class="tour-status">Äang tham quan...</span>
      </div>
    </div>
  </div>

  <!-- COMPASS OVERLAY -->
  <div id="compassContainer">
    <canvas id="compassCanvas" width="160" height="160"></canvas>
  </div>

  <!-- ZOOM CONTROL -->
  <div id="zoomControl" class="zoom-control">
    <span>ğŸ” Zoom</span>
    <input type="range" id="zoomSlider" min="75" max="85" value="90" class="zoom-slider">
    <span id="zoomValue">90</span>Â°
  </div>

  <!-- MEDIA OVERLAY -->
  <div id="mediaOverlay" class="media-overlay hidden">
    <div class="overlay-header">
      <h3 id="mediaOverlayTitle">TÆ° liá»‡u</h3>
      <button id="mediaOverlayClose" class="close-btn" title="ÄÃ³ng">Ã—</button>
    </div>
    <p id="mediaOverlayDescription" style="display: none; margin: 8px 0; color: #d7d7d7; font-size: 12px;"></p>
    <div id="mediaOverlayContent" class="overlay-content"></div>
    <a id="mediaOverlayLink" href="#" target="_blank" class="overlay-link" style="display: none;">
      ğŸ”— Má»Ÿ trong tab má»›i
    </a>
  </div>

  <!-- CAMERA MODAL -->
  <div id="cameraModal" class="camera-modal hidden">
    <div class="camera-modal-backdrop"></div>
    <div class="camera-modal-content">
      <div class="camera-modal-header">
        <h2 id="cameraModalTitle">ğŸ“¹ Camera</h2>
        <button id="cameraModalClose" class="camera-modal-close" title="ÄÃ³ng">Ã—</button>
      </div>
      <div class="camera-modal-body">
        <div id="cameraPreviewContainer" style="text-align: center;">
          <div style="padding: 40px; color: #999;">Äang táº£i camera...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- SENSOR WIDGET -->
  <div id="sensorWidget" class="sensor-widget">
    <div id="sensorWidgetContent" class="sensor-widget-content">
      <div style="text-align: center; padding: 20px; color: #888; font-size: 12px;">
        Äang táº£i cáº£m biáº¿n...
      </div>
    </div>
  </div>

  <!-- CAMERA PANEL -->
  <div id="cameraPanel" class="camera-panel hidden">
    <div class="camera-panel-header">
      <h3>ğŸ“¹ Camera</h3>
      <button id="cameraPanelToggle" class="camera-panel-toggle" title="Thu gá»n">âˆ’</button>
    </div>
    <div id="cameraPanelContent" class="camera-panel-content">
      <div style="text-align: center; padding: 20px; color: #999; font-size: 12px;">
        KhÃ´ng cÃ³ camera
      </div>
    </div>
  </div>

  <!-- MAIL TOOLBOX -->
  <div id="mailToolbox" class="mail-toolbox">
    <div id="mailDragIcon" class="mail-drag-icon" draggable="true">âœ‰ï¸</div>
  </div>

  <!-- MAIL COMPOSER PANEL -->
  <div id="mailComposerPanel" class="mail-composer hidden">
    <div class="mail-composer-header">
      <h3 id="mailComposerTitle">âœ‰ï¸ Gá»­i mail</h3>
      <button id="mailComposerClose" class="mail-composer-close" title="ÄÃ³ng">Ã—</button>
    </div>

    <label for="mailPointTitle">TÃªn Ä‘iá»ƒm mail</label>
    <input id="mailPointTitle" type="text" placeholder="VÃ­ dá»¥: Há»— trá»£ khÃ¡ch tham quan">

    <label for="mailRecipientSelect">Chá»n ngÆ°á»i nháº­n Ä‘Ã£ lÆ°u</label>
    <select id="mailRecipientSelect">
      <option value="">-- Chá»n hoáº·c nháº­p má»›i --</option>
    </select>

    <label for="mailRecipientInput">Email ngÆ°á»i nháº­n</label>
    <input id="mailRecipientInput" type="email" placeholder="example@email.com">

    <label for="mailSubjectInput">TiÃªu Ä‘á»</label>
    <input id="mailSubjectInput" type="text" placeholder="TiÃªu Ä‘á» mail">

    <label for="mailBodyInput">Ná»™i dung mail</label>
    <textarea id="mailBodyInput" rows="5" placeholder="Nháº­p ná»™i dung mail..."></textarea>

    <div id="mailComposerStatus" class="mail-composer-status"></div>

    <div class="mail-composer-actions">
      <button id="mailSaveBtn" class="mail-btn">ğŸ’¾ LÆ°u</button>
      <button id="mailSendBtn" class="mail-btn">ğŸ“¤ Gá»­i</button>
      <button id="mailDeleteBtn" class="mail-btn danger">ğŸ—‘ XÃ³a</button>
    </div>
  </div>

  <!-- TOUR -->
  <div id="pano"></div>

  <script src="admin-runtime-config.js"></script>
  <script src="admin-api-base.js"></script>
  <script src="main.js"></script>
</body>
</html>
